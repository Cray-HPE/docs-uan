<!DOCTYPE html>
<html lang="en-255" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.87.0" />
    <meta name="description" content="">


    <link rel="icon" href="/docs-uan/images/favicon.png" type="image/png">

    <title> :: User Access Node (UAN)</title>

    
    <link href="/docs-uan/css/nucleus.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/fontawesome-all.min.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/hybrid.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/featherlight.min.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/perfect-scrollbar.min.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/auto-complete.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/atom-one-dark-reasonable.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/theme.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/tabs.css?1670631688" rel="stylesheet">
    <link href="/docs-uan/css/hugo-theme.css?1670631688" rel="stylesheet">
    
    <link href="/docs-uan/css/theme-green.css?1670631688" rel="stylesheet">
    
    

    <script src="/docs-uan/js/jquery-3.3.1.min.js?1670631688"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/docs-uan/advanced/sles_image/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/docs/uan/'>
   
   <svg version="1.1" id="primary_logo" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px"
       y="0px" viewBox="0 0 432 288" style="enable-background:new 0 0 432 288;" xml:space="preserve">
   <style type="text/css">
      .st0{fill:#01A982;}
   </style>
   <g>
      <path id="element" class="st0" d="M48.5,73.3v32.9h0h114.7V73.3H48.5z M156,99.1H55.7V80.5H156L156,99.1L156,99.1z"/>
      <path d="M55.7,160.7h-7.2v-32.9h7.2v13h12.8v-13h7.2v32.9h-7.2v-13.7H55.7V160.7z M91.9,161.2c-7.3,0-12.2-4.6-12.2-12.1
         c0-7.3,4.8-12.4,11.3-12.4c7,0,10.5,4.7,10.5,11.7v2.6h-15c0.8,3.6,3.7,4.6,6.5,4.6c2.5,0,4.3-0.5,6.5-1.9h0.3v5.4
         C97.9,160.6,95.2,161.2,91.9,161.2z M86.5,146.3H95c-0.2-2.4-1.2-4.1-4-4.1C89,142.2,87.1,143.1,86.5,146.3z M120.2,146.9
         l-3.7,13.8h-6.3l-7.2-23.2v-0.3h6.9l3.9,13.9l3.7-13.9h5.6l3.7,13.9l4-13.9h6.6v0.3l-7.2,23.2h-6.3L120.2,146.9z M149,161.2
         c-5.7,0-8-2.3-8-7.6v-25.9h7v25.4c0,1.6,0.6,2.2,2,2.2c0.5,0,1.2-0.2,1.6-0.3h0.1v5.7C151.1,161,150.1,161.2,149,161.2z
          M165.8,161.2c-7.3,0-12.2-4.6-12.2-12.1c0-7.3,4.8-12.4,11.3-12.4c7,0,10.5,4.7,10.5,11.7v2.6h-15c0.8,3.6,3.7,4.6,6.5,4.6
         c2.5,0,4.3-0.5,6.5-1.9h0.3v5.4C171.8,160.6,169.1,161.2,165.8,161.2z M160.4,146.3h8.5c-0.2-2.4-1.2-4.1-4-4.1
         C162.9,142.2,161,143.1,160.4,146.3z M203.9,137.3h5.2v5.6h-5.2v9.5c0,2.1,0.8,3,2.9,3c0.6,0,1.3-0.1,2.1-0.3h0.2v5.5
         c-0.9,0.3-2.3,0.7-4.3,0.7c-5.6,0-7.9-2.6-7.9-8.5v-9.9h-8.9v9.5c0,2.1,0.8,3,2.9,3c0.6,0,1.3-0.1,2.1-0.3h0.2v5.5
         c-0.9,0.3-2.3,0.7-4.3,0.7c-5.6,0-7.9-2.6-7.9-8.5v-9.9h-3.6v-5.6h3.6v-6.4h7v6.4h8.9v-6.4h7L203.9,137.3L203.9,137.3z
          M245.2,138.9c0,7.2-4.8,11.1-12.1,11.1H228v10.7h-7.2v-32.9h12.3C240.4,127.8,245.2,131.7,245.2,138.9z M232.5,144
         c3.6,0,5.4-2.1,5.4-5c0-3.1-1.7-5.1-5.4-5.1H228V144H232.5z M260.7,158.4c-1.5,1.8-3.8,2.7-6.2,2.7c-4.6,0-8.3-2.8-8.3-7.7
         c0-4.6,3.7-7.6,9.1-7.6c1.7,0,3.4,0.3,5.2,0.8v-0.4c0-2.5-1.4-3.6-5.2-3.6c-2.4,0-4.6,0.7-6.6,1.8h-0.3v-5.6c1.8-1.1,5-2,8.1-2
         c7.1,0,10.9,3.4,10.9,9.3v14.7h-6.7L260.7,158.4L260.7,158.4z M260.5,153.3v-2c-1.1-0.6-2.4-0.8-3.8-0.8c-2.3,0-3.6,0.8-3.6,2.7
         c0,2,1.4,2.8,3.4,2.8C258.4,156.1,259.8,155.1,260.5,153.3z M271,149c0-7.5,5.3-12.3,12.3-12.3c2.5,0,4.8,0.5,6.5,1.8v6h-0.3
         c-1.5-1.2-3.3-1.8-5.4-1.8c-3.5,0-6.1,2.4-6.1,6.4s2.6,6.3,6.1,6.3c2.1,0,3.8-0.7,5.4-1.8h0.3v6c-1.7,1.3-4.1,1.8-6.5,1.8
         C276.3,161.2,271,156.6,271,149z M301.1,150.1v10.6h-7v-32.9h7v18.8l7-9.3h7.9v0.3l-8.4,10.6l8.4,12.3v0.3h-8L301.1,150.1z
          M331.8,158.4c-1.5,1.8-3.8,2.7-6.2,2.7c-4.6,0-8.3-2.8-8.3-7.7c0-4.6,3.7-7.6,9.1-7.6c1.7,0,3.4,0.3,5.2,0.8v-0.4
         c0-2.5-1.4-3.6-5.2-3.6c-2.4,0-4.6,0.7-6.6,1.8h-0.3v-5.6c1.8-1.1,5-2,8.1-2c7.1,0,10.9,3.4,10.9,9.3v14.7h-6.7L331.8,158.4
         L331.8,158.4z M331.6,153.3v-2c-1.1-0.6-2.4-0.8-3.8-0.8c-2.3,0-3.6,0.8-3.6,2.7c0,2,1.4,2.8,3.4,2.8
         C329.5,156.1,331,155.1,331.6,153.3z M350.3,141.1c1.3-2.6,3.1-4.1,5.7-4.1c0.9,0,1.9,0.2,2.3,0.4v6.6H358
         c-0.8-0.3-1.7-0.5-3.1-0.5c-2.2,0-3.8,1.3-4.4,3.7v13.5h-7v-23.5h6.7L350.3,141.1L350.3,141.1z M376.9,158.3c-1.5,1.9-3.8,3-7,3
         c-6,0-9.9-5.5-9.9-12.2c0-6.7,3.8-12.3,9.9-12.3c3.1,0,5.3,0.9,6.7,2.7v-11.6h7v32.9h-6.7L376.9,158.3L376.9,158.3z M376.7,152.8
         v-7.5c-1.2-1.7-2.7-2.4-4.4-2.4c-3.1,0-5.1,2.2-5.1,6.2s2.1,6.2,5.1,6.2C374,155.2,375.5,154.4,376.7,152.8z M48.5,171.5h20.3v4
         H53.1v10.1h14.3v3.9H53.1v11h15.8v4H48.5V171.5z M85.7,180.7c5.2,0,8.1,3.4,8.1,9.1v14.6h-4.4v-14.5c0-3-1.5-5.2-4.8-5.2
         c-2.7,0-5.1,1.7-5.9,4.2v15.4h-4.4v-23.2h4.4v3.4C80.1,182.4,82.4,180.7,85.7,180.7z M105.5,181.2h6v3.7h-6v12.5
         c0,2.6,1.4,3.5,3.8,3.5c0.7,0,1.4-0.1,1.9-0.3h0.2v3.7c-0.6,0.3-1.5,0.5-2.7,0.5c-5.4,0-7.6-2.5-7.6-7V185h-4v-3.7h4v-6.2h4.4
         C105.5,175.1,105.5,181.2,105.5,181.2z M125.7,204.9c-6.8,0-11.4-4.5-11.4-11.8c0-7.3,4.3-12.3,10.6-12.3c6.4,0,9.7,4.6,9.7,11.4v2
         h-15.9c0.5,4.7,3.5,7,7.6,7c2.6,0,4.4-0.6,6.5-2.1h0.2v3.9C131,204.3,128.6,204.9,125.7,204.9z M118.8,190.5h11.5
         c-0.2-3.4-1.8-6.1-5.4-6.1C121.6,184.5,119.4,187,118.8,190.5z M144.1,184.8c1-2.5,3.2-4,5.7-4c1,0,1.9,0.2,2.3,0.4v4.3H152
         c-0.6-0.3-1.7-0.5-2.7-0.5c-2.4,0-4.4,1.6-5.1,4.2v15.1h-4.4v-23.2h4.4L144.1,184.8L144.1,184.8z M167,180.7
         c6.9,0,10.6,5.6,10.6,12.1c0,6.4-3.7,12.1-10.6,12.1c-2.8,0-5.3-1.5-6.5-3.1v11.5h-4.4v-32.1h4.4v2.6
         C161.7,182.2,164.1,180.7,167,180.7z M166.2,200.9c4.3,0,6.9-3.4,6.9-8.1c0-4.6-2.5-8.1-6.9-8.1c-2.4,0-4.6,1.4-5.7,3.7v8.9
         C161.7,199.6,163.9,200.9,166.2,200.9z M187.1,184.8c1-2.5,3.2-4,5.7-4c1,0,1.9,0.2,2.3,0.4v4.3H195c-0.6-0.3-1.7-0.5-2.7-0.5
         c-2.4,0-4.4,1.6-5.1,4.2v15.1h-4.4v-23.2h4.4L187.1,184.8L187.1,184.8z M201.5,171.8c1.5,0,2.8,1.2,2.8,2.7c0,1.5-1.3,2.7-2.8,2.7
         c-1.5,0-2.8-1.2-2.8-2.7C198.7,173.1,200,171.8,201.5,171.8z M199.3,181.2h4.4v23.2h-4.4V181.2z M219.3,190.9c3.3,1.1,7,2.4,7,6.9
         c0,4.7-3.9,7.2-8.9,7.2c-3.1,0-6.1-0.7-7.9-2.1v-4.2h0.2c2,1.8,4.8,2.6,7.6,2.6c2.5,0,4.7-0.9,4.7-3c0-2.1-1.8-2.5-5.5-3.7
         c-3.3-1.1-6.9-2.3-6.9-6.6c0-4.5,3.7-7.1,8.4-7.1c2.7,0,5.2,0.6,7.1,1.9v4.2H225c-1.9-1.5-4.1-2.4-6.9-2.4c-2.7,0-4.3,1.2-4.3,2.8
         C213.8,189.1,215.5,189.7,219.3,190.9z M241.5,204.9c-6.8,0-11.4-4.5-11.4-11.8c0-7.3,4.3-12.3,10.6-12.3c6.4,0,9.7,4.6,9.7,11.4v2
         h-15.9c0.5,4.7,3.5,7,7.6,7c2.6,0,4.4-0.6,6.5-2.1h0.2v3.9C246.8,204.3,244.4,204.9,241.5,204.9z M234.6,190.5h11.5
         c-0.2-3.4-1.8-6.1-5.4-6.1C237.4,184.5,235.2,187,234.6,190.5z"/>
   </g>
   </svg>
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/docs-uan/js/lunr.min.js?1670631688"></script>
<script type="text/javascript" src="/docs-uan/js/auto-complete.js?1670631688"></script>
<script type="text/javascript">
    
        var baseurl = "\/docs-uan\/";
    
</script>
<script type="text/javascript" src="/docs-uan/js/search.js?1670631688"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/docs-uan/installation_prereqs/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/installation_prereqs/">
          Installation Prereqs
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/installation_prereqs/configure_the_bios_of_a_gigabyte_uan/" title="" class="dd-item ">
        <a href="/docs-uan/installation_prereqs/configure_the_bios_of_a_gigabyte_uan/">
        Configure The Bios Of A Gigabyte UAN
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/installation_prereqs/configure_the_bios_of_an_hpe_uan/" title="" class="dd-item ">
        <a href="/docs-uan/installation_prereqs/configure_the_bios_of_an_hpe_uan/">
        Configure The Bios Of An HPE UAN
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/installation_prereqs/configure_the_bmc_for_uans_with_ilo/" title="" class="dd-item ">
        <a href="/docs-uan/installation_prereqs/configure_the_bmc_for_uans_with_ilo/">
        Configure The BMC For UANs With Ilo
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/installation_prereqs/prepare_for_uan_product_installation/" title="" class="dd-item ">
        <a href="/docs-uan/installation_prereqs/prepare_for_uan_product_installation/">
        Prepare For UAN Product Installation
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/install/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/install/">
          Install
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/install/install_the_uan_product_stream/" title="" class="dd-item ">
        <a href="/docs-uan/install/install_the_uan_product_stream/">
        Install The UAN Product Stream
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/operations/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/operations/">
          Operations
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/boot_uans/" title="" class="dd-item ">
        <a href="/docs-uan/operations/boot_uans/">
        Boot UANs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/build_a_new_uan_image_using_the_cos_recipe/" title="" class="dd-item ">
        <a href="/docs-uan/operations/build_a_new_uan_image_using_the_cos_recipe/">
        Build A New UAN Image Using A Cos Recipe
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/configure_interfaces_on_uans/" title="" class="dd-item ">
        <a href="/docs-uan/operations/configure_interfaces_on_uans/">
        Configure Interfaces On UANs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/configure_pluggable_authentication_modules_pam_on_uans/" title="" class="dd-item ">
        <a href="/docs-uan/operations/configure_pluggable_authentication_modules_pam_on_uans/">
        Configure Pluggable Authentication Modules (pam) On UANs
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/create_uan_boot_images/" title="" class="dd-item ">
        <a href="/docs-uan/operations/create_uan_boot_images/">
        Create UAN Boot Images
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/mount_a_new_file_system_on_an_uan/" title="" class="dd-item ">
        <a href="/docs-uan/operations/mount_a_new_file_system_on_an_uan/">
        Mount A New File System On A UAN
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/uan_ansible_roles/" title="" class="dd-item ">
        <a href="/docs-uan/operations/uan_ansible_roles/">
        UAN Ansible Roles 
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/operations/about_uan_configuration/" title="" class="dd-item ">
        <a href="/docs-uan/operations/about_uan_configuration/">
        About UAN Configuration
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/advanced/" title="" class="dd-item
        parent
        
        
        ">
      <a href="/docs-uan/advanced/">
          Advanced
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/advanced/repurposing_compute_as_uan/" title="" class="dd-item ">
        <a href="/docs-uan/advanced/repurposing_compute_as_uan/">
        Repurposing A Compute Node As A UAN
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/advanced/sles_image/" title="" class="dd-item active">
        <a href="/docs-uan/advanced/sles_image/">
        Booting An Application Node With A Sles Image (techNICal Preview)
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/advanced/customizing_uan_images_manually/" title="" class="dd-item ">
        <a href="/docs-uan/advanced/customizing_uan_images_manually/">
        Customizing UAN Images Manually
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/advanced/enabling_can_chn/" title="" class="dd-item ">
        <a href="/docs-uan/advanced/enabling_can_chn/">
        Enabling The Customer Access Network (CAN) Or The Customer High Speed Network (chn)
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/upgrade/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/upgrade/">
          Upgrade
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/upgrade/merge_uan_configuration_data/" title="" class="dd-item ">
        <a href="/docs-uan/upgrade/merge_uan_configuration_data/">
        Merge UAN Configuration Data
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/upgrade/notable_changes/" title="" class="dd-item ">
        <a href="/docs-uan/upgrade/notable_changes/">
        Notable Changes
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/upgrade/upgrade_uan_software_product/" title="" class="dd-item ">
        <a href="/docs-uan/upgrade/upgrade_uan_software_product/">
        Upgrade UAN Software Product
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/troubleshooting/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/troubleshooting/">
          Troubleshooting
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/troubleshooting/troubleshoot_uan_disk_configuration_issues/" title="" class="dd-item ">
        <a href="/docs-uan/troubleshooting/troubleshoot_uan_disk_configuration_issues/">
        Troubleshoot UAN Disk Configuration Issues
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/troubleshooting/troubleshoot_uan_boot_issues/" title="" class="dd-item ">
        <a href="/docs-uan/troubleshooting/troubleshoot_uan_boot_issues/">
        Troubleshoot UAN Boot Issues
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/troubleshooting/troubleshoot_uan_cfs_and_network_configuration_issues/" title="" class="dd-item ">
        <a href="/docs-uan/troubleshooting/troubleshoot_uan_cfs_and_network_configuration_issues/">
        Troubleshoot UAN CFS And Network Configuration Issues
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/test-plan/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/test-plan/">
          Test-plan
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/test-plan/test-plan/" title="" class="dd-item ">
        <a href="/docs-uan/test-plan/test-plan/">
        Test Plan For User Access Node (UAN) And Repurposed Compute Node As Uan
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/docs-uan/'></a> > <a href='/docs-uan/advanced/'></a> > 
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#limitations">Limitations</a></li>
    <li><a href="#overview">Overview</a></li>
    <li><a href="#procedure">Procedure</a></li>
    <li><a href="#troubleshooting">Troubleshooting</a>
      <ul>
        <li><a href="#dracut-failures-during-booting">Dracut failures during booting</a></li>
        <li><a href="#unable-to-log-in-to-the-node">Unable to log in to the node.</a></li>
        <li><a href="#dhcp-hostname-is-not-set">DHCP hostname is not set</a></li>
        <li><a href="#spire-is-not-running">Spire is not running</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              
            </h1>
          

        


<h1 id="booting-an-application-node-with-a-sles-image-technical-preview">Booting an Application Node with a SLES Image (Technical Preview)</h1>
<p>A SLES image is available for use with Application type nodes. This image is currently considered a &ldquo;Technical Preview&rdquo; as the initial support for booting with SLES Images without COS. This guide documents the procedure to boot and configure the new image as it currently differs from the standard COS-based image process in some ways.</p>
<p>The image is built with the same packer/qemu pipeline as Non-Compute-Node Images. Similarties may be noticed including the kernel and package versions.</p>
<h2 id="limitations">Limitations</h2>
<p>As this is currently a &ldquo;Technical Preview&rdquo; of supporting SLES Images on Application Nodes, there are several limitations:</p>
<ul>
<li>S3 presigned URLs with an expiration limit for the rootfs must be created.</li>
<li>BSS parameters must be set with <code>cray bss bootparameters replace ...</code></li>
<li>BOS Sessions and Templates are not supported.</li>
<li>CFS Configurations that operate on COS and NCN images are not yet supported.</li>
<li>CFS Node Personalization must be started manually.</li>
</ul>
<h2 id="overview">Overview</h2>
<p>The following steps outline the process of configuring and booting an Application Node with the SLES Image.</p>
<ol>
<li>
<p>Determine the image to use.</p>
</li>
<li>
<p>Configure the image with IMS/CFS (optional).</p>
</li>
<li>
<p>Update BSS with the necessary parameters.</p>
</li>
<li>
<p>Reboot the node.</p>
</li>
<li>
<p>Run CFS Node Personalization (optional).</p>
</li>
</ol>
<h2 id="procedure">Procedure</h2>
<p>Perform the following steps to configure and boot a SLES image on an Application type node.</p>
<ol>
<li>
<p>Log in to the master node <code>ncn-m001</code>. All commands in this procedure are run from the master node.</p>
</li>
<li>
<p>Verify the UAN release contains a SLES image.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001# UAN_RELEASE<span style="color:#f92672">=</span>2.5
ncn-m001# sat showrev --filter <span style="color:#e6db74">&#39;product_name = uan&#39;</span> | grep $UAN_RELEASE
</code></pre></div></li>
<li>
<p>Select an Image to boot or customize.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001# APP_IMAGE_NAME<span style="color:#f92672">=</span>cray-application-sles15sp3.x86_64-0.1.0
ncn-m001# APP_IMAGE_ID<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cray ims images list --format json  | jq --arg APP_IMAGE_NAME <span style="color:#e6db74">&#34;</span>$APP_IMAGE_NAME<span style="color:#e6db74">&#34;</span> -r <span style="color:#e6db74">&#39;sort_by(.created) | .[] | select(.name == $APP_IMAGE_NAME ) | .id&#39;</span> | head -1<span style="color:#66d9ef">)</span>
ncn-m001# cray ims images describe $APP_IMAGE_ID --format json
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;created&#34;</span>: <span style="color:#e6db74">&#34;2022-08-24T20:07:27.263737+00:00&#34;</span>,
  <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;13964414-bbad-40e9-9e31-a3683010febb&#34;</span>,
  <span style="color:#e6db74">&#34;link&#34;</span>: <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;etag&#34;</span>: <span style="color:#e6db74">&#34;,
</span><span style="color:#e6db74">    &#34;</span>path<span style="color:#e6db74">&#34;: &#34;</span>s3://boot-images/13964414-bbad-40e9-9e31-a3683010febb/manifest.json<span style="color:#e6db74">&#34;,
</span><span style="color:#e6db74">    &#34;</span>type<span style="color:#e6db74">&#34;: &#34;</span>s3<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">  },
</span><span style="color:#e6db74">  &#34;</span>name<span style="color:#e6db74">&#34;: &#34;</span>cray-application-sles15sp3.x86_64-0.1.0<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">}
</span></code></pre></div></li>
<li>
<p>Customize the image using SAT Bootprep. This will add a root password to the image as one is not included. If CFS is not going to be used on this node, this step is optional. Support for additional product layers will be added in subsequent releases.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001# cat bootprep-sles-uan.yml
configurations:
- name: sles-uan-configuration
  layers:
  - name: uan
    playbook: site.yml
    product:
      name: uan
      version: 2.5.3
      branch: integration

images:
- name: sles-uan-image
  ims:
    is_recipe: false
    name: cray-application-sles15sp3.x86_64-0.1.0
  configuration: sles-uan-configuration
  configuration_group_names:
  - Application
  - Application_UAN

ncn-m001# sat bootprep run ./bootprep-sles-uan.yml
ncn-m001# APP_IMAGE_NAME<span style="color:#f92672">=</span>sles-uan-image
ncn-m001# APP_IMAGE_ID<span style="color:#f92672">=</span><span style="color:#66d9ef">$(</span>cray ims images list --format json  | jq --arg APP_IMAGE_NAME <span style="color:#e6db74">&#34;</span>$APP_IMAGE_NAME<span style="color:#e6db74">&#34;</span> -r <span style="color:#e6db74">&#39;sort_by(.created) | .[] | select(.name == $APP_IMAGE_NAME ) | .id&#39;</span> | head -1<span style="color:#66d9ef">)</span>
ncn-m001# cray ims images describe $APP_IMAGE_ID --format json
<span style="color:#f92672">{</span>
  <span style="color:#e6db74">&#34;created&#34;</span>: <span style="color:#e6db74">&#34;2022-08-25T20:07:27.263737+00:00&#34;</span>,
  <span style="color:#e6db74">&#34;id&#34;</span>: <span style="color:#e6db74">&#34;13964414-bbad-40e9-9e31-a36830101234&#34;</span>,
  <span style="color:#e6db74">&#34;link&#34;</span>: <span style="color:#f92672">{</span>
    <span style="color:#e6db74">&#34;etag&#34;</span>: <span style="color:#e6db74">&#34;,
</span><span style="color:#e6db74">    &#34;</span>path<span style="color:#e6db74">&#34;: &#34;</span>s3://boot-images/13964414-bbad-40e9-9e31-a36830101234/manifest.json<span style="color:#e6db74">&#34;,
</span><span style="color:#e6db74">    &#34;</span>type<span style="color:#e6db74">&#34;: &#34;</span>s3<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">  },
</span><span style="color:#e6db74">  &#34;</span>name<span style="color:#e6db74">&#34;: &#34;</span>sles-uan-image<span style="color:#e6db74">&#34;
</span><span style="color:#e6db74">}
</span></code></pre></div></li>
<li>
<p>Create a presigned URL for the rootfs. This is needed for the node to boot in this release, in the future, this will be integrated into BSS and will not need to be performed. This URL will be valid for 1 hour and will need to be recreated if the node reboots after the URL expires. To set a longer expiration, adjust the &ldquo;aws s3 presign&rdquo; command accordingly.</p>
<pre><code class="language-base" data-lang="base">ncn-m001# export AWS_ACCESS_KEY_ID=`kubectl get secrets -o yaml ims-s3-credentials -ojsonpath='{.data.access_key}' | base64 -d`
ncn-m001# export AWS_SECRET_ACCESS_KEY=`kubectl get secrets -o yaml ims-s3-credentials -ojsonpath='{.data.secret_key}' | base64 -d`
ncn-m001# alias aws=&quot;aws --endpoint-url http://rgw-vip&quot;
ncn-m001# ROOTFS_URL=$(aws s3 presign --expires-in 3600 s3://boot-images/$APP_IMAGE_ID/rootfs)
</code></pre></li>
<li>
<p>Select an Application UAN to boot with the image.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001# cray hsm state components list --role Application --subrole UAN --format json | jq -r <span style="color:#e6db74">&#39;.Components | .[] | .ID&#39;</span>
x3000c0s13b0n0
x3000c0s15b0n0
ncn-m001# NODE<span style="color:#f92672">=</span>x3000c0s13b0n0
</code></pre></div></li>
<li>
<p>Select a MAC address to use as the NMN interface.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001:~ <span style="color:#75715e"># cray hsm inventory ethernetInterfaces list --component-id $NODE --format json | jq -r &#39;.[] | &#34;\(.Description) \t \(.MACAddress)&#34;&#39;</span>
Ethernet Interface Lan1 	 b4:2e:99:fd:45:c8
Ethernet Interface Lan2 	 b4:2e:99:fd:45:c9
ncn-m001:~ <span style="color:#75715e"># MAC=b4:2e:99:fd:45:c8</span>
</code></pre></div></li>
<li>
<p>Update BSS with the kernel, initrd, and desired parameters.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001:~ <span style="color:#75715e"># PARAMS=&#34;ifname=nmn0:$MAC ip=nmn0:dhcp spire_join_token=\${SPIRE_JOIN_TOKEN} biosdevname=1 pcie_ports=native transparent_hugepage=never console=tty0 console=ttyS0,115200 iommu=pt metal.no-wipe=1 initrd=initrd root=live:$ROOTFS_URL rd.live.ram=0 rd.writable.fsimg=0 rd.skipfsck rd.live.squashimg=filesystem.squashfs rd.live.overlay.thin=1 rd.live.overlay.overlayfs=1 rd.luks=0 rd.luks.crypttab=0 rd.lvm.conf=0 rd.lvm=1 rd.auto=1 rd.md=1 rd.dm=0 rd.neednet=0 rd.peerdns=1 rd.md.waitclean=1 rd.multipath=0 rd.md.conf=1 rd.bootif=0 hostname=$NODE rd.net.dhcp.retry=3 append nosplash quiet log_buf_len=1 rd.retry=10 rd.shell&#34;</span>
ncn-m001:~ <span style="color:#75715e"># cray bss bootparameters replace --hosts $NODE --initrd &#34;s3://boot-images/$APP_IMAGE_ID/initrd&#34; --kernel &#34;s3://boot-images/$APP_IMAGE_ID/kernel&#34; --params &#34;$PARAMS&#34;</span>
</code></pre></div></li>
<li>
<p>Reboot the node. Wait for the status to return off before issuing the power on command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001:# USERNAME<span style="color:#f92672">=</span>root
ncn-m001:# read -r -s -p <span style="color:#e6db74">&#34;</span>$NODE<span style="color:#e6db74"> BMC </span><span style="color:#e6db74">${</span>USERNAME<span style="color:#e6db74">}</span><span style="color:#e6db74"> password: &#34;</span> IPMI_PASSWORD; echo
ncn-m001:# export IPMI_PASSWORD
ncn-m001:# ipmitool -U <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>USERNAME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> -E -I lanplus -H <span style="color:#e6db74">${</span>NODE:<span style="color:#66d9ef">:-</span>2<span style="color:#e6db74">}</span> power off
ncn-m001:# ipmitool -U <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>USERNAME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> -E -I lanplus -H <span style="color:#e6db74">${</span>NODE:<span style="color:#66d9ef">:-</span>2<span style="color:#e6db74">}</span> power status
ncn-m001:# ipmitool -U <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">${</span>USERNAME<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span> -E -I lanplus -H <span style="color:#e6db74">${</span>NODE:<span style="color:#66d9ef">:-</span>2<span style="color:#e6db74">}</span> power on
</code></pre></div></li>
<li>
<p>Connect to the console for the node and verify it boots into multi-user mode. Find the correct pod by using <code>conman -q</code> to list the available connections in each pod.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001# kubectl exec -it -n services cray-console-node-0 -- conman -j $NODE

...
2022-08-25 14:27:51 Welcome to SUSE Linux Enterprise High Performance Computing <span style="color:#ae81ff">15</span> SP3  <span style="color:#f92672">(</span>x86_64<span style="color:#f92672">)</span> - Kernel 5.3.18-150300.59.43-default <span style="color:#f92672">(</span>ttyS0<span style="color:#f92672">)</span>.
2022-08-25 14:27:51
2022-08-25 14:27:51 x3000c0s13b0n0 login:
</code></pre></div></li>
<li>
<p>If the node does not complete the boot successfully, proceed to the troubleshooting section in this guide.</p>
</li>
</ol>
<h2 id="troubleshooting">Troubleshooting</h2>
<p>Some general troublshooting tips may help in getting started using the SLES image.</p>
<h3 id="dracut-failures-during-booting">Dracut failures during booting</h3>
<ol>
<li>
<p>Could not find the kernel or the initrd. Verify the BSS bootparameters for the node. Specifically, check that the IMS Image ID is correct.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">http://rgw-vip.nmn/boot-images/13964414-bbad-40e9-9e31-a3683010febbasdf/kernel...HTTP 0x7f0fa808 status <span style="color:#ae81ff">404</span> Not Found
 No such file or directory <span style="color:#f92672">(</span>http://ipxe.org/2d0c618e<span style="color:#f92672">)</span>

http://rgw-vip.nmn/boot-images/13964414-bbad-40e9-9e31-a3683010febbasdf/initrd...HTTP 0x7f0fa808 status <span style="color:#ae81ff">404</span> Not Found
 No such file or directory <span style="color:#f92672">(</span>http://ipxe.org/2d0c618e<span style="color:#f92672">)</span>
</code></pre></div></li>
<li>
<p>The presigned URL was generated incorrectly.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">2022-08-22 18:49:33 <span style="color:#f92672">[</span>    9.170981<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1427<span style="color:#f92672">]</span>: curl: <span style="color:#f92672">(</span>22<span style="color:#f92672">)</span> The requested URL returned error: <span style="color:#ae81ff">404</span> Not Found
2022-08-22 18:49:33 <span style="color:#f92672">[</span>    9.191138<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1421<span style="color:#f92672">]</span>: Warning: Downloading <span style="color:#e6db74">&#39;http://rgw-vip/boot-images/c0d2d5fd-8354-4f21-a0ef-8ee2878cbde7/filesystem.squashfs?AWSAccessKeyId=I
</span><span style="color:#e6db74">43RBLH07R65TRO3AL02&amp;Signature=YLmTttUa2KT7qzKLemOd1zIsWlo%3D&amp;Expires=1661273999&#39;</span> failed!
2022-08-22 18:49:33 <span style="color:#f92672">[</span>    9.222966<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1411<span style="color:#f92672">]</span>: Warning: failed to download live image: error <span style="color:#ae81ff">0</span>
</code></pre></div></li>
<li>
<p>No carrier detected on interface nmn0. Select a different MAC address to be assigned as nmn0.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">http://rgw-vip.nmn/boot-images/13964414-bbad-40e9-9e31-a3683010febb/kernel... ok
http://rgw-vip.nmn/boot-images/13964414-bbad-40e9-9e31-a3683010febb/initrd... ok
<span style="color:#f92672">[</span>    4.966173<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>975<span style="color:#f92672">]</span>: Warning: Unable to retrieve metadata from server
<span style="color:#f92672">[</span>    5.379611<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1130<span style="color:#f92672">]</span>: Warning: Unable to retrieve metadata from server
<span style="color:#f92672">[</span>   10.547290<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1144<span style="color:#f92672">]</span>: Warning: No carrier detected on interface nmn0
<span style="color:#f92672">[</span>   10.564694<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1393<span style="color:#f92672">]</span>: ls: cannot access <span style="color:#e6db74">&#39;/tmp/leaseinfo.nmn0*&#39;</span>: No such file or directory
...
<span style="color:#f92672">[</span>   28.381198<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>945<span style="color:#f92672">]</span>: Warning: dracut-initqueue timeout - starting timeout scripts
<span style="color:#f92672">[</span>   28.400096<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>945<span style="color:#f92672">]</span>: Warning: Could not boot.
</code></pre></div></li>
<li>
<p>The root filesystem doesn&rsquo;t won&rsquo;t download because the URL is too long. Regenerate the URL using the aws command.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">2022-08-03 19:41:52   <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span>      <span style="color:#ae81ff">0</span> --:--:-- --:--:-- --:--:--     0Warning: Failed to create the file
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.842822<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>: Warning: rootfs?X-Amz-Algorithm<span style="color:#f92672">=</span>AWS4-HMAC-SHA256&amp;X-Amz-Credential<span style="color:#f92672">=</span>I43RBLH07R65T
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.862811<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>: Warning: RO3AL02%2F20220803%2F%2Fs3%2Faws4_request&amp;X-Amz-Date<span style="color:#f92672">=</span>20220803T193518Z&amp;
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.882714<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>: Warning: X-Amz-Expires<span style="color:#f92672">=</span>86400&amp;X-Amz-SignedHeaders<span style="color:#f92672">=</span>host&amp;X-Amz-Signature<span style="color:#f92672">=</span>9412c9eb0
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.902718<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>: Warning: 585604b3c8154376113c043fb41e3954cddc92a8d799e5176f8c140: File name
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.922710<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>: Warning: too long
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.938714<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>:
2022-08-03 19:41:52   <span style="color:#ae81ff">0</span> 2020M    <span style="color:#ae81ff">0</span> <span style="color:#ae81ff">13977</span>    <span style="color:#ae81ff">0</span>     <span style="color:#ae81ff">0</span>   524k      <span style="color:#ae81ff">0</span>  1:05:40 --:--:--  1:05:40  524k
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.958983<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1428<span style="color:#f92672">]</span>: curl: <span style="color:#f92672">(</span>23<span style="color:#f92672">)</span> Failed writing body <span style="color:#f92672">(</span><span style="color:#ae81ff">0</span> !<span style="color:#f92672">=</span> 13977<span style="color:#f92672">)</span>
2022-08-03 19:41:52 <span style="color:#f92672">[</span>    9.975166<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1422<span style="color:#f92672">]</span>: Warning: Downloading <span style="color:#e6db74">&#39;http://rgw-vip/boot-images/66c37928-6887-463e-8d9f-e4eec8089374/rootfs?X-Amz-Algorithm=AWS4-HMAC-SHA256&amp;X-Amz-Credential=I43RBLH07R65TRO3AL02%2F20220803%2F%2Fs3%2Faws4_request&amp;X-Amz-Date=20220803T193518Z&amp;X-Amz-Expires=86400&amp;X-Amz-SignedHeaders=host&amp;X-Amz-Signature=9412c9eb0585604b3c8154376113c043fb41e3954cddc92a8d799e5176f8c140&#39;</span> failed!
2022-08-03 19:41:52 <span style="color:#f92672">[</span>   10.019096<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1412<span style="color:#f92672">]</span>: Warning: failed to download live image: error <span style="color:#ae81ff">0</span>
</code></pre></div></li>
<li>
<p>The presigned URL has expired or was generated incorrectly.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash"><span style="color:#f92672">[</span>    9.787431<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1435<span style="color:#f92672">]</span>: curl: <span style="color:#f92672">(</span>22<span style="color:#f92672">)</span> The requested URL returned error: <span style="color:#ae81ff">403</span> Forbidden
<span style="color:#f92672">[</span>    9.807724<span style="color:#f92672">]</span> dracut-initqueue<span style="color:#f92672">[</span>1429<span style="color:#f92672">]</span>: Warning: Downloading <span style="color:#e6db74">&#39;http://rgw-vip/boot-images/13964414-bbad-40e9-9e31-a3683010febb/rootfs?AWSAccessKeyId=I43RBLH07R65TRO3AL02&amp;Signature=7%2FgOCotleoyLPGmeyG%2FFX8tpkWg%3D&amp;Expires=1661523713&#39;</span> failed!
</code></pre></div></li>
<li>
<p>The dracut module livenet is missing from the initrd. Make sure the initrd was regenerated with <code>/srv/cray/scripts/common/create-ims-initrd.sh</code> if CFS was used.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">2022-08-24 14:48:53 <span style="color:#f92672">[</span>    5.784023<span style="color:#f92672">]</span> dracut: FATAL: Don<span style="color:#e6db74">&#39;t know how to handle &#39;</span>root<span style="color:#f92672">=</span>live:http://rgw-vip/boot-images/e88ed416-5d58-4421-9013-fa2171ac11b8/rootfs?AWSAccessKeyId<span style="color:#f92672">=</span>I43RBLH07R65TRO3AL02&amp;Signature<span style="color:#f92672">=</span>bL661kZHPyEgBsLLEuJHFz3zKVs%3D&amp;Expires<span style="color:#f92672">=</span>1661438587<span style="color:#960050;background-color:#1e0010">&#39;</span>
2022-08-24 14:48:53 <span style="color:#f92672">[</span>    5.805063<span style="color:#f92672">]</span> dracut: Refusing to <span style="color:#66d9ef">continue</span>
</code></pre></div></li>
</ol>
<h3 id="unable-to-log-in-to-the-node">Unable to log in to the node.</h3>
<ol>
<li>
<p>The node is not up. Connect to the console and determine why the node has not booted, starting with the troubleshooting tips.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001:# ssh app01 
ssh: connect to host uan01 port 22: No route to host
</code></pre></div></li>
<li>
<p>Unable to log in to the node with a password. No root password is defined in the image by default, one must be added via CFS or by modifying the squashfs filesystem.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">ncn-m001:# ssh app01
Password:
Password:
Password:
root@app01<span style="color:#960050;background-color:#1e0010">&#39;</span>s password:
Permission denied, please try again
</code></pre></div></li>
</ol>
<h3 id="dhcp-hostname-is-not-set">DHCP hostname is not set</h3>
<ol>
<li>
<p>If the node does not have a hostname assigned from DHCP, try verifying the DHCP settings and restarting wicked.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">x3000c0s13b0n0:~ <span style="color:#75715e"># grep -R ^DHCLIENT_SET_HOSTNAME= /etc/sysconfig/network/dhcp</span>
DHCLIENT_SET_HOSTNAME<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;yes&#34;</span>
x3000c0s13b0n0:# systemctl restart wicked
x3000c0s13b0n0:# hostnamectl
   Static hostname: x3000c0s13b0n0
Transient hostname: app01
         Icon name: computer-server
           Chassis: server
        Machine ID: 9bd0aacf29d04dd4827bc464121b130b
           Boot ID: af753b4e6fa9419bb14d55a029d0f526
  Operating System: SUSE Linux Enterprise High Performance Computing <span style="color:#ae81ff">15</span> SP3
       CPE OS Name: cpe:/o:suse:sle_hpc:15:sp3
            Kernel: Linux 5.3.18-150300.59.43-default
      Architecture: x86-64
x3000c0s13b0n0:# hostname
app01
</code></pre></div></li>
</ol>
<h3 id="spire-is-not-running">Spire is not running</h3>
<ol>
<li>
<p>Check the spire-agent logs for error messages.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-bash" data-lang="bash">app01# systemctl status spire-agent
</code></pre></div></li>
</ol>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/docs-uan/js/clipboard.min.js?1670631688"></script>
    <script src="/docs-uan/js/perfect-scrollbar.min.js?1670631688"></script>
    <script src="/docs-uan/js/perfect-scrollbar.jquery.min.js?1670631688"></script>
    <script src="/docs-uan/js/jquery.sticky.js?1670631688"></script>
    <script src="/docs-uan/js/featherlight.min.js?1670631688"></script>
    <script src="/docs-uan/js/highlight.pack.js?1670631688"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/docs-uan/js/modernizr.custom-3.6.0.js?1670631688"></script>
    <script src="/docs-uan/js/learn.js?1670631688"></script>
    <script src="/docs-uan/js/hugo-learn.js?1670631688"></script>
    
        
            <script src="/docs-uan/mermaid/mermaid.js?1670631688"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

