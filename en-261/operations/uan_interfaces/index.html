<!DOCTYPE html>
<html lang="en-261" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0" />
    <meta name="description" content="">


    <link rel="icon" href="/docs-uan/images/favicon.png" type="image/png">

    <title> :: User Access Node (UAN)</title>

    
    <link href="/docs-uan/css/nucleus.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/fontawesome-all.min.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/hybrid.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/featherlight.min.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/perfect-scrollbar.min.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/auto-complete.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/atom-one-dark-reasonable.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/theme.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/tabs.css?1688160183" rel="stylesheet">
    <link href="/docs-uan/css/hugo-theme.css?1688160183" rel="stylesheet">
    
    <link href="/docs-uan/css/theme-green.css?1688160183" rel="stylesheet">
    
    

    <script src="/docs-uan/js/jquery-3.3.1.min.js?1688160183"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
    
  </head>
  <body class="" data-url="/docs-uan/en-261/operations/uan_interfaces/">
    <nav id="sidebar" class="showVisitedLinks">



  <div id="header-wrapper">
    <div id="header">
      <a id="logo" href='/docs-uan/en-261'>
<img src=/docs-uan/images/hpe_pri_wht_rev_rgb.png alt="HPE" />
</a>

    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/docs-uan/js/lunr.min.js?1688160183"></script>
<script type="text/javascript" src="/docs-uan/js/auto-complete.js?1688160183"></script>
<script type="text/javascript">
    
        var baseurl = "\/docs-uan\/\/en-261";
    
</script>
<script type="text/javascript" src="/docs-uan/js/search.js?1688160183"></script>

    
  </div>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/installation_prereqs/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/en-261/installation_prereqs/">
          installation prereqs
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/installation_prereqs/prepare_for_uan_product_installation/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/installation_prereqs/prepare_for_uan_product_installation/">
        Prepare for UAN Product Installation
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/installation_prereqs/configure_the_bmc_for_uans_with_ilo/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/installation_prereqs/configure_the_bmc_for_uans_with_ilo/">
        Configure the BMC for UANs with iLO
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/installation_prereqs/configure_the_bios_of_an_hpe_uan/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/installation_prereqs/configure_the_bios_of_an_hpe_uan/">
        Configure the BIOS of an HPE UAN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/installation_prereqs/configure_the_bios_of_a_gigabyte_uan/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/installation_prereqs/configure_the_bios_of_a_gigabyte_uan/">
        Configure the BIOS of a Gigabyte UAN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/install/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/en-261/install/">
          install
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/install/install_the_uan_product_stream/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/install/install_the_uan_product_stream/">
        Install or Upgrade UAN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/operations/" title="" class="dd-item
        parent
        
        
        ">
      <a href="/docs-uan/en-261/operations/">
          operations
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/basic_uan_configuration/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/basic_uan_configuration/">
        Basic UAN Configuration
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/build_a_new_uan_image_using_the_cos_recipe/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/build_a_new_uan_image_using_the_cos_recipe/">
        Build a New UAN Image Using a COS Recipe
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/create_uan_boot_images/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/create_uan_boot_images/">
        Create UAN Boot Images
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/mount_a_new_file_system_on_an_uan/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/mount_a_new_file_system_on_an_uan/">
        Mount a New File System on a UAN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/configure_interfaces_on_uans/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/configure_interfaces_on_uans/">
        Configure Interfaces on UANs
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/configure_pluggable_authentication_modules_pam_on_uans/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/configure_pluggable_authentication_modules_pam_on_uans/">
        Configure Pluggable Authentication Modules (PAM) on UANs
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/boot_uans/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/boot_uans/">
        Boot UANs
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/cve-2023-0461/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/cve-2023-0461/">
        Mitigation for CVE-2023-0461
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_shadow/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_shadow/">
        `UAN shadow`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_motd/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_motd/">
        `UAN motd`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_packages/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_packages/">
        `UAN packages`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_interfaces/" title="" class="dd-item active">
        <a href="/docs-uan/en-261/operations/uan_interfaces/">
        `UAN interfaces`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_ldap/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_ldap/">
        `UAN LDAP`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_ca_cert/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_ca_cert/">
        `UAN ca cert`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_disk_config/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_disk_config/">
        `UAN disk config`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/uan_hardening/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/uan_hardening/">
        `UAN hardening`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/operations/csm_gpg_keys/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/operations/csm_gpg_keys/">
        `.gpg keys`
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/advanced/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/en-261/advanced/">
          advanced
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/advanced/customizing_uan_images_manually/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/advanced/customizing_uan_images_manually/">
        Customizing UAN Images Manually
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/advanced/enabling_can_chn/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/advanced/enabling_can_chn/">
        Enabling the Customer Access Network (CAN) or the Customer High Speed Network (CHN)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/advanced/repurposing_compute_as_uan/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/advanced/repurposing_compute_as_uan/">
        Repurposing a Compute Node as a UAN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/advanced/sles_image/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/advanced/sles_image/">
        Booting an Application Node with a SLES Image (Technical Preview)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/advanced/enabling_k3s/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/advanced/enabling_k3s/">
        Configuring a UAN for K3s (Technical Preview)
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/upgrade/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/en-261/upgrade/">
          upgrade
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/upgrade/notable_changes/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/upgrade/notable_changes/">
        Notable Changes
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/upgrade/upgrades/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/upgrade/upgrades/">
        Upgrades
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/troubleshooting/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/en-261/troubleshooting/">
          troubleshooting
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/troubleshooting/troubleshoot_uan_boot_issues/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/troubleshooting/troubleshoot_uan_boot_issues/">
        Troubleshoot UAN Boot Issues
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/troubleshooting/troubleshoot_uan_cfs_and_network_configuration_issues/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/troubleshooting/troubleshoot_uan_cfs_and_network_configuration_issues/">
        Troubleshoot UAN CFS and Network Configuration Issues
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/troubleshooting/troubleshoot_uan_disk_configuration_issues/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/troubleshooting/troubleshoot_uan_disk_configuration_issues/">
        Troubleshoot UAN Disk Configuration Issues
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/docs-uan/en-261/test-plan/" title="" class="dd-item
        
        
        
        ">
      <a href="/docs-uan/en-261/test-plan/">
          test-plan
          
            <i class="fas fa-check read-icon"></i>
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/docs-uan/en-261/test-plan/test-plan/" title="" class="dd-item ">
        <a href="/docs-uan/en-261/test-plan/test-plan/">
        Test Plan for User Access Node (UAN) and Repurposed Compute Node as UAN
        <i class="fas fa-check read-icon"></i>
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="prefooter">
      <hr/>
      <ul>
      
        <li>
          <a class="padding">
            
            Version: 
          <div class="select-style">
            <select id="select-language" onchange="location = this.value;">
          
          
          
              
              
                  
                    
                    
                      <option id="en-262" value="/docs-uan/en-262/operations/uan_interfaces/">2.6.2</option>
                    
                  
              
                  
              
                  
              
          
              
              
                  
              
                  
                    
                    
                      <option id="en-261" value="/docs-uan/en-261/operations/uan_interfaces/" selected>2.6.1</option>
                    
                  
              
                  
              
          
        </select>
        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
          width="255px" height="255px" viewBox="0 0 255 255" style="enable-background:new 0 0 255 255;" xml:space="preserve">
          <g>
            <g id="arrow-drop-down">
              <polygon points="0,63.75 127.5,191.25 255,63.75 		" />
            </g>
          </g>
        </svg>
        </div>
        </a>
        </li>
      

      
        <li><a class="padding" href="#" data-clear-history-toggle=""><i class="fas fa-history fa-fw"></i> </a></li>
      
      </ul>
    </section>
    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/docs-uan/en-261/'></a> > <a href='/docs-uan/en-261/operations/'></a> > 
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li><a href="#requirements">Requirements</a></li>
    <li><a href="#role-variables">Role Variables</a>
      <ul>
        <li><a href="#dependencies">Dependencies</a></li>
        <li><a href="#example-playbook">Example Playbook</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              
            </h1>
          

        


<h1 id="uan_interfaces"><code>uan_interfaces</code></h1>
<p>The <code>uan_interfaces</code> role configures site/customer-defined network interfaces
and Shasta Customer Access Network (CAN) network interfaces on UAN nodes.</p>
<h2 id="requirements">Requirements</h2>
<p>None.</p>
<h2 id="role-variables">Role Variables</h2>
<p>Available variables are listed below, along with default values (see <code>defaults/main.yml</code>):</p>
<dl>
<dt><code>uan_nmn_bond</code></dt>
<dd>
<p>A boolean variable controlling the configuration of the Node Management Network (NMN).
When true, the NMN network connection will be configured as a bonded pair of interfaces defined by the members of the
<code>uan_nmn_bond_slaves</code> variable. The bonded NMN interface is named <code>nmnb0</code>. When false, the NMN network connection
will be configured as a single interface named <code>nmn0</code>.</p>
</dd>
</dl>
<p>The default value of <code>uan_nmn_bond</code> is <code>no</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_nmn_bond</span>: <span style="color:#66d9ef">no</span>
</span></span></code></pre></div><dl>
<dt><code>uan_nmn_bond_slaves</code></dt>
<dd>
<p>A list of the interfaces to use as the bond slave pair when <code>uan_nmn_bond</code> is true.</p>
</dd>
</dl>
<p>The interface names must be in a format which doesn&rsquo;t change between reboots of the node, such as <code>ens10f0</code>
which is the first port of the NIC in slot 10.</p>
<p><strong>NOTE:</strong> <code>ens10f0</code> is typically the first port of the OCP 25Gb card that
the node PXE boots.</p>
<p><strong>IMPORTANT:</strong> The first interface in the list must be the <code>nmn0</code> interface which is configured during the
initial image boot, typically <code>ens10f0</code>.  This is required because the MAC address of the <code>nmn0</code> interface
is the MAC associated with the IP address of the UAN.  The bonded <code>nmnb0</code> interface and the bond slaves
will assume this MAC and the IP address of <code>nmn0</code> to preserve connectivity.</p>
<p>The second interface is typically the first port of a different 25Gb NIC for resiliency.</p>
<p>The default values of <code>uan_nmn_bond_slaves</code> are shown here.  They may need to be changed to match the actual
node cabling and NIC configuration.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_nmn_bond_slaves</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;ens10f0&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;ens1f0&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>uan_can_setup</code></dt>
<dd>
<p>Boolean variable controlling the configuration of user
access to UAN nodes.  When true, user access is configured over either the
Customer Access Network (CAN) or Customer High Speed Network (CHN), depending on which is configured on the system.</p>
</dd>
</dl>
<p>When <code>uan_can_setup</code> is false, user access over the CAN or CHN is not configured
on the UAN nodes and no default route is configured.  The Admin must then specify
the default route in <code>customer_uan_routes</code>.</p>
<p>The default value of <code>uan_can_setup</code> is <code>no</code>.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_can_setup</span>: <span style="color:#66d9ef">no</span>
</span></span></code></pre></div><dl>
<dt><code>uan_can_bond_slaves</code></dt>
<dd>
<p>A list of the interfaces to use as the bond slave pair when <code>uan_can_setup</code> is true, <code>uan_nmn_bond</code> is true, and the Customer Access Network (CAN) is configured on the system.  This variable is ignored if <code>uan_nmn_bond</code> is false.</p>
</dd>
</dl>
<p>The interface names must be in a format which doesn&rsquo;t change between reboots of the node, such as <code>ens10f1</code>
which is the second port of the NIC in slot 10.</p>
<p><strong>NOTE:</strong> <code>ens10f1</code> is typically the second port of the OCP 25Gb card and is used as one of the bond
slaves in the CAN <code>bond0</code> interface.</p>
<p>The second interface is typically the second port of a different 25Gb NIC for resiliency.</p>
<p>The default values of <code>uan_can_bond_slaves</code> are shown here.  They may need to be changed to match the actual
node cabling and NIC configuration.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_can_bond_slaves</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;ens10f1&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;ens1f1&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>uan_chn_device</code></dt>
<dd>
<p>The default CHN device on the UAN nodes. Overwrite the default value to use a different device for the CHN on UAN nodes.</p>
</dd>
</dl>
<p>The default value of <code>uan_chn_device</code> is shown here.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_chn_device</span>: <span style="color:#e6db74">&#34;hsn0&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>uan_customer_default_route</code></dt>
<dd>
<p>Boolean variable that allows the default route
to be set by the <code>customer_uan_routes</code> data when <code>uan_can_setup</code> is true.</p>
</dd>
</dl>
<p>By default, no default route is setup unless <code>uan_can_setup</code> is true, which sets the default route to the CAN or CHN.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_customer_default_route</span>: <span style="color:#66d9ef">no</span>
</span></span></code></pre></div><dl>
<dt><code>sls_nmn_name</code></dt>
<dd>
<p>Node Management Network name used by SLS.
This value should not be changed.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">sls_nmn_name</span>: <span style="color:#e6db74">&#34;NMN&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>sls_nmn_svcs_name</code></dt>
<dd>
<p>Node Management Services Network name used by SLS.
This value should not be changed.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">sls_nmn_svcs_name</span>: <span style="color:#e6db74">&#34;NMNLB&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>sls_mnmn_svcs_name</code></dt>
<dd>
<p>Mountain Node Management Services Network name used
by SLS.  This value should not be changed.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">sls_mnmn_svcs_name</span>: <span style="color:#e6db74">&#34;NMN_MTN&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>uan_required_dns_options</code></dt>
<dd>
<p>List of DNS options.  By default, <code>single-request</code> is set and must not be removed.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_required_dns_options</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;single-request&#39;</span>
</span></span></code></pre></div><dl>
<dt><code>customer_uan_interfaces</code></dt>
<dd>
<p>List of interface names used for constructing
<code>ifcfg-&lt;customer_uan_interfaces.name&gt;</code> files. Define ifcfg fields for each
interface here. Field names are converted to uppercase in the generated
<code>ifcfg-&lt;name&gt;</code> file(s).</p>
</dd>
</dl>
<p>Interfaces should be defined in order of dependency.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">customer_uan_interfaces</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example:</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">customer_uan_interfaces</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;net1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">settings</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">bootproto</span>: <span style="color:#e6db74">&#34;static&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">device</span>: <span style="color:#e6db74">&#34;net1&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ipaddr</span>: <span style="color:#e6db74">&#34;1.2.3.4&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">startmode</span>: <span style="color:#e6db74">&#34;auto&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;net2&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">settings</span>:
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">bootproto</span>: <span style="color:#e6db74">&#34;static&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">device</span>: <span style="color:#e6db74">&#34;net2&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">ipaddr</span>: <span style="color:#e6db74">&#34;5.6.7.8&#34;</span>
</span></span><span style="display:flex;"><span>      <span style="color:#f92672">startmode</span>: <span style="color:#e6db74">&#34;auto&#34;</span>
</span></span></code></pre></div><dl>
<dt>`customer_uan_routes</dt>
<dd>
<p>List of interface routes used for constructing
<code>ifroute-&lt;customer_uan_routes.name&gt;</code> files.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">customer_uan_routes</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">customer_uan_routes</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;net1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">routes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;10.92.100.0 10.252.0.1 255.255.255.0 -&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;10.100.0.0 10.252.0.1 255.255.128.0 -&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;net2&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">routes</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;default 10.103.8.20 255.255.255.255 - table 3&#34;</span>
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;10.103.8.128/25 10.103.8.20 255.255.255.255 net2&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>customer_uan_rules</code></dt>
<dd>
<p>List of interface rules used for constructing
<code>ifrule-&lt;customer_uan_routes.name&gt;</code> files.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">customer_uan_rules</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">customer_uan_rules</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;net1&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">rules</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;from 10.1.0.0/16 lookup 1&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">name</span>: <span style="color:#e6db74">&#34;net2&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">rules</span>:
</span></span><span style="display:flex;"><span>      - <span style="color:#e6db74">&#34;from 10.103.8.0/24 lookup 3&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>customer_uan_global_routes</code></dt>
<dd>
<p>List of global routes used for constructing
the &ldquo;routes&rdquo; file.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">customer_uan_global_routes</span>: []
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">customer_uan_global_routes</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#f92672">routes</span>: 
</span></span><span style="display:flex;"><span>    - <span style="color:#e6db74">&#34;10.92.100.0 10.252.0.1 255.255.255.0 -&#34;</span>
</span></span><span style="display:flex;"><span>    - <span style="color:#e6db74">&#34;10.100.0.0 10.252.0.1 255.255.128.0 -&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>external_dns_searchlist</code></dt>
<dd>
<p>List of customer-configurable fields to be added
to the <code>/etc/resolv.conf</code> DNS search list.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">external_dns_searchlist</span>: [ <span style="color:#e6db74">&#39;&#39;</span> ] 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">external_dns_searchlist</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;my.domain.com&#39;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;my.other.domain.com&#39;</span>
</span></span></code></pre></div><dl>
<dt><code>external_dns_servers</code></dt>
<dd>
<p>List of customer-configurable fields to be added
to the <code>/etc/resolv.conf</code> DNS server list.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">external_dns_servers</span>: [ <span style="color:#e6db74">&#39;&#39;</span> ] 
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">external_dns_servers</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;1.2.3.4&#39;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;5.6.7.8&#39;</span>
</span></span></code></pre></div><dl>
<dt><code>external_dns_options</code></dt>
<dd>
<p>List of customer-configurable fields to be added
to the <code>/etc/resolv.conf</code> DNS options list.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">external_dns_options</span>: [ <span style="color:#e6db74">&#39;&#39;</span> ]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># Example</span>
</span></span><span style="display:flex;"><span><span style="color:#f92672">external_dns_options</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#39;single-request&#39;</span>
</span></span></code></pre></div><dl>
<dt><code>uan_access_control</code></dt>
<dd>
<p>Boolean variable to control whether non-root access
control is enabled.  Default is <code>no</code>.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">uan_access_control</span>: <span style="color:#66d9ef">no</span>
</span></span></code></pre></div><dl>
<dt><code>api_gateways</code></dt>
<dd>
<p>List of API gateway DNS names to block non-user access</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">api_gateways</span>:
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;api-gw-service&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;api-gw-service.local&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;api-gw-service-nmn.local&#34;</span>
</span></span><span style="display:flex;"><span>  - <span style="color:#e6db74">&#34;kubeapi-vip&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>api_gw_ports</code></dt>
<dd>
<p>List of gateway ports to protect.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">api_gw_ports</span>: <span style="color:#e6db74">&#34;80,443,8081,8888&#34;</span>
</span></span></code></pre></div><dl>
<dt><code>sls_url</code></dt>
<dd>
<p>The SLS URL.</p>
</dd>
</dl>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span><span style="color:#f92672">sls_url</span>: <span style="color:#e6db74">&#34;http://cray-sls&#34;</span>
</span></span></code></pre></div><h3 id="dependencies">Dependencies</h3>
<p>None.</p>
<h3 id="example-playbook">Example Playbook</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-yaml" data-lang="yaml"><span style="display:flex;"><span>- <span style="color:#f92672">hosts</span>: <span style="color:#ae81ff">Application_UAN</span>
</span></span><span style="display:flex;"><span>  <span style="color:#f92672">roles</span>:
</span></span><span style="display:flex;"><span>      - { <span style="color:#f92672">role</span>: <span style="color:#ae81ff">uan_interfaces }</span>
</span></span></code></pre></div><p>This role is included in the UAN <code>site.yml</code> play.</p>


<footer class="footline">
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
            
        

        


	 
	 
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/docs-uan/js/clipboard.min.js?1688160183"></script>
    <script src="/docs-uan/js/perfect-scrollbar.min.js?1688160183"></script>
    <script src="/docs-uan/js/perfect-scrollbar.jquery.min.js?1688160183"></script>
    <script src="/docs-uan/js/jquery.sticky.js?1688160183"></script>
    <script src="/docs-uan/js/featherlight.min.js?1688160183"></script>
    <script src="/docs-uan/js/highlight.pack.js?1688160183"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/docs-uan/js/modernizr.custom-3.6.0.js?1688160183"></script>
    <script src="/docs-uan/js/learn.js?1688160183"></script>
    <script src="/docs-uan/js/hugo-learn.js?1688160183"></script>
    
        
            <script src="/docs-uan/mermaid/mermaid.js?1688160183"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>

