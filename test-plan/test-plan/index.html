<!DOCTYPE html>
<html lang="en-255" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="height=device-height, width=device-width, initial-scale=1.0, minimum-scale=1.0">
    <meta name="generator" content="Hugo 0.101.0">
    <meta name="generator" content="Relearn 5.8.1+tip">
    <meta name="robots" content="noindex, nofollow, noarchive, noimageindex">
    <meta name="description" content="">
    <title>User Access Node (UAN)</title>
    <!-- https://github.com/filamentgroup/loadCSS/blob/master/README.md#how-to-use -->
    <link href="/docs-uan/css/fontawesome-all.min.css?1670952041" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/docs-uan/css/fontawesome-all.min.css?1670952041" rel="stylesheet"></noscript>
    <link href="/docs-uan/css/featherlight.min.css?1670952041" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/docs-uan/css/featherlight.min.css?1670952041" rel="stylesheet"></noscript>
    <link href="/docs-uan/css/auto-complete.css?1670952041" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/docs-uan/css/auto-complete.css?1670952041" rel="stylesheet"></noscript>
    <link href="/docs-uan/css/perfect-scrollbar.min.css?1670952041" rel="stylesheet">
    <link href="/docs-uan/css/nucleus.css?1670952041" rel="stylesheet">
    <link href="/docs-uan/css/fonts.css?1670952041" rel="stylesheet" media="print" onload="this.media='all';this.onload=null;"><noscript><link href="/docs-uan/css/fonts.css?1670952041" rel="stylesheet"></noscript>
    <link href="/docs-uan/css/theme.css?1670952041" rel="stylesheet">
    <link href="/docs-uan/css/theme-green.css?1670952041" rel="stylesheet" id="variant-style">
    <link href="/docs-uan/css/ie.css?1670952041" rel="stylesheet">
    <link href="/docs-uan/css/variant.css?1670952041" rel="stylesheet">
    <link href="/docs-uan/css/print.css?1670952041" rel="stylesheet" media="print">
    <script src="/docs-uan/js/url.js?1670952041"></script>
    <script src="/docs-uan/js/variant.js?1670952041"></script>
    <script>
      // hack to let hugo tell us how to get to the root when using relativeURLs, it needs to be called *url= for it to do its magic:
      // https://github.com/gohugoio/hugo/blob/145b3fcce35fbac25c7033c91c1b7ae6d1179da8/transform/urlreplacers/absurlreplacer.go#L72
      window.index_js_url="/docs-uan/index.search.js";
      var root_url="/";
      var baseUri=root_url.replace(/\/$/, '');
      // translations
      window.T_Copy_to_clipboard = '';
      window.T_Copied_to_clipboard = '';
      window.T_Copy_link_to_clipboard = '';
      window.T_Link_copied_to_clipboard = '';
      window.T_No_results_found = '';
      window.T_N_results_found = '';
      // some further base stuff
      var baseUriFull='docs-uan/';
      window.variants && variants.init( [ 'green' ] );
    </script>
    <script src="/docs-uan/js/jquery.min.js?1670952041" defer></script>
  </head>
  <body class="mobile-support html" data-url="/docs-uan/test-plan/test-plan/index.html">
    <div id="body" class="default-animation">
      <div id="sidebar-overlay"></div>
      <div id="toc-overlay"></div>
      <nav id="topbar" class="highlightable" dir="ltr">
        <div>
          <div id="breadcrumbs">
            <span id="sidebar-toggle-span">
              <a href="#" id="sidebar-toggle" title=' (CTRL+ALT+n)'><i class="fas fa-bars fa-fw"></i></a>
            </span>
            <span id="toc-menu" title=' (CTRL+ALT+t)'><i class="fas fa-list-alt fa-fw"></i></span>
            <span class="links">
              
            </span>
          </div>
          <div class="default-animation progress">
            <div class="toc-wrapper" dir="ltr">
<nav id="TableOfContents">
  <ul>
    <li><a href="#unit-tests">Unit Tests</a></li>
    <li><a href="#integration-tests">Integration Tests</a></li>
    <li><a href="#functional-tests">Functional Tests</a></li>
  </ul>
</nav>
            </div>
          </div>
        </div>
      </nav>
      <main id="body-inner" class="highlightable default" tabindex="-1">
        <div class="flex-block-wrapper">
          <div id="head-tags">
          </div>
          <article class="default">
<h1 id=""></h1>

<h1 id="test-plan-for-user-access-node-uan-and-repurposed-compute-node-as-uan">Test Plan for User Access Node (UAN) and Repurposed Compute Node as UAN</h1>
<p>The following is the test plan for the User Access Node (UAN) or a Compute Node that has been repurposed to function as a UAN.  The tests are grouped in three categories:</p>
<ul>
<li>Unit tests</li>
<li>Integration tests</li>
<li>Functional tests</li>
</ul>
<h2 id="unit-tests">Unit Tests</h2>
<p>When possible, unit tests are run when the various components of UAN are built (uan-rpms, uan, and uan-product-stream). The <code>uan</code> repository contains the ansible code used when UANs boot and configure and much of the testing for that compoment must occur on a fully configured system. Future enhancements are underway to test the various compoments of UAN on a Virtual Shasta enviroment in GCP.</p>
<table>
<thead>
<tr>
<th>Summary</th>
<th>Description</th>
<th>Automated</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td><code>uan</code> builds</td>
<td>Verify the <code>uan</code> repo is able to generate artifacts</td>
<td>yes</td>
<td>Run <code>make</code> in a local checkout</td>
</tr>
<tr>
<td><code>uan-rpms</code> builds</td>
<td>Verify the <code>uan-rpms</code> repo is able to generate rpms</td>
<td>yes</td>
<td>Run <code>make</code> in a local checkout</td>
</tr>
<tr>
<td><code>uan-product-stream</code> builds</td>
<td>Verify the <code>uan-product-stream</code> repo is able to generate a release</td>
<td>yes</td>
<td>Tag a new release in <code>uan-product-stream</code> or run <code>make</code> in a local checkout</td>
</tr>
</tbody>
</table>
<h2 id="integration-tests">Integration Tests</h2>
<p>The following integration tests verify that the UAN software interacts correctly with the rest of the products. The result of the integration tests will be a fully built and customized UAN image that boots and configures correctly. Depending on the configuration of the test system, extra integrations tests may be performed (HSN booting, WLM configuration, GPU configuration, etc).</p>
<table>
<thead>
<tr>
<th>Summary</th>
<th>Description</th>
<th>Automated</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>Install the UAN product</td>
<td>Run the install procedure</td>
<td>Yes</td>
<td>Run <code>install.sh</code> from Install_the_UAN_Product_Stream.md</td>
</tr>
<tr>
<td>Build a COS recipe for UAN</td>
<td>Verify the COS recipe can be built as the base for a UAN image</td>
<td>no</td>
<td>Build_a_New_UAN_Image_Using_the_COS_Recipe.md</td>
</tr>
<tr>
<td>Run UAN CFS</td>
<td>Verify the CFS layers run correctly (SHS, UAN, WLM, CPE, etc)</td>
<td>no</td>
<td>Create_UAN_Boot_Images.md</td>
</tr>
<tr>
<td>Boot UANs</td>
<td>Verify the UAN boots successfully</td>
<td>no</td>
<td>Boot_UANS.md</td>
</tr>
<tr>
<td>Enable HSN booting</td>
<td>Verify the UAN is able to HSN boot</td>
<td>no</td>
<td>Consult COS documentation</td>
</tr>
<tr>
<td>Enable GPU</td>
<td>Verify the UAN is able to configure GPUs</td>
<td>no</td>
<td>Consult GPU documentation</td>
</tr>
</tbody>
</table>
<h2 id="functional-tests">Functional Tests</h2>
<p>With a fully configured Shasta system, the following functional tests determines that a UAN is able to perform its intended capabilities. These tests apply to both native UANs and Compute Nodes which have been repurposed as UANs.</p>
<table>
<thead>
<tr>
<th>Summary</th>
<th>Description</th>
<th>Automated</th>
<th>Notes</th>
</tr>
</thead>
<tbody>
<tr>
<td>User Authentication</td>
<td>Verify a user is able to ssh to the UAN using LDAP authentication.</td>
<td>no</td>
<td><code>ssh user@uan</code></td>
</tr>
<tr>
<td>Job launch</td>
<td>Verify a user is able to submit a basic job.</td>
<td>no</td>
<td><code>srun hostname</code></td>
</tr>
<tr>
<td>Verify CPE</td>
<td>Verify the Cray Programming Environment is available</td>
<td>no</td>
<td><code>module list</code></td>
</tr>
<tr>
<td>Verify GPU functionality</td>
<td>Run the test suite if GPUs are configured</td>
<td>yes</td>
<td><code>/opt/cray/uan/tests/validate-gpu.sh &lt;nvidia|amd&gt;</code></td>
</tr>
<tr>
<td>Verify CAN or CHN Configuration</td>
<td>Inspect the network interfaces and default routes used for CAN or CHN</td>
<td>no</td>
<td><!-- raw HTML omitted --><!-- raw HTML omitted --> For systems running CAN, there must be a <code>can0</code> interface present and the default route should be over that device.<!-- raw HTML omitted --><!-- raw HTML omitted -->For systems running CHN (including Compute Nodes repurposed as UANs), the <code>hsn0</code> interface must have a CHN IP in addition to the HSN IP and the default route should be over the <code>hsn0</code> device.<!-- raw HTML omitted --><!-- raw HTML omitted --></td>
</tr>
</tbody>
</table>

            <footer class="footline">
            </footer>
          </article>
        </div>
      </main>
    </div>
    <aside id="sidebar" class="default-animation" dir="ltr">
      <div id="header-wrapper" class="default-animation">
        <div id="header" class="default-animation">
<a id="logo" href='/docs-uan/'>
  <img src="/docs-uan/images/hpe.png" alt="HPE" />
</a>
        </div>
        <div class="searchbox default-animation">
          <i class="fas fa-search" title=" (CTRL+ALT+f)"></i>
          <label class="a11y-only" for="search-by"></label>
          <input data-search-input id="search-by" name="search-by" class="search-by" type="search" placeholder="">
          <span data-search-clear=""><i class="fas fa-times"></i></span>
        </div>
        <script>
          var contentLangs=['en'];
        </script>
        <script src="/docs-uan/js/auto-complete.js?1670952041" defer></script>
        <script src="/docs-uan/js/lunr.min.js?1670952041" defer></script>
        <script src="/docs-uan/js/lunr.stemmer.support.min.js?1670952041" defer></script>
        <script src="/docs-uan/js/lunr.multi.min.js?1670952041" defer></script>
        <script src="/docs-uan/js/lunr.en.min.js?1670952041" defer></script>
        <script src="/docs-uan/js/search.js?1670952041" defer></script>
      </div>
      <div id="content-wrapper" class="highlightable">
        <ul class="topics">
          <li data-nav-id="/docs-uan/test-plan/index.html" class="dd-item parent"><a href="/docs-uan/test-plan/index.html">Test-plan</a><ul id="subsections-f5bd228f8e52105a2dc3780c0f76532d">
          <li data-nav-id="/docs-uan/test-plan/test-plan/index.html" class="dd-item active"><a href="/docs-uan/test-plan/test-plan/index.html">Test Plan For User Access Node (UAN) And Repurposed Compute Node As Uan</a></li></ul></li>
        </ul>
        <div class="footermargin footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter"></div>
        <hr class="default-animation footerLangSwitch footerVariantSwitch footerVisitedLinks footerFooter showFooter">
        <div id="prefooter" class="footerLangSwitch footerVariantSwitch footerVisitedLinks">
          <ul>
            <li id="select-language-container" class="footerLangSwitch">
              <div class="padding select-container">
                <i class="fas fa-language fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-language"></label>
                  <select id="select-language" onchange="location = baseUri + this.value;">
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
            </li>
            <li id="select-variant-container" class="footerVariantSwitch">
              <div class="padding select-container">
                <i class="fas fa-paint-brush fa-fw"></i>
                <span>&nbsp;</span>
                <div class="select-style">
                  <label class="a11y-only" for="select-variant"></label>
                  <select id="select-variant" onchange="window.variants && variants.changeVariant( this.value );">
                    <option id="green" value="green" selected>Green</option>
                  </select>
                </div>
                <div class="select-clear"></div>
              </div>
              <script>window.variants && variants.markSelectedVariant();</script>
            </li>
            <li class="footerVisitedLinks"><button class="padding" onclick="clearHistory();"><i class="fas fa-history fa-fw"></i> </button></li>
          </ul>
        </div>
        <div id="footer" class="footerFooter showFooter">
	    <p>Built with <a href="https://github.com/McShelby/hugo-theme-relearn" title="love"><i class="fas fa-heart"></i></a> by <a href="https://gohugo.io/">Hugo</a></p>
        </div>
      </div>
    </aside>
    <script src="/docs-uan/js/clipboard.min.js?1670952041" defer></script>
    <script src="/docs-uan/js/perfect-scrollbar.min.js?1670952041" defer></script>
    <script src="/docs-uan/js/featherlight.min.js?1670952041" defer></script>
    <script src="/docs-uan/js/theme.js?1670952041" defer></script>
  </body>
</html>
